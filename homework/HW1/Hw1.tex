\documentclass[10pt]{article}
% \usepackage[letterpaper,text={6.5in,8.7in},centering]{geometry}
\usepackage{amssymb,amsmath,times,url,graphicx,amsthm,alltt}
%\usepackage[pdftex,urlcolor=blue,pdfpagemode=none,pdfstartview=FitH]{hyperref}
\usepackage{my_packages}
\usepackage{tikz_packages}
%% url smaller font.
\makeatletter
\def\url@leostyle{%
  \@ifundefined{selectfont}{\def\UrlFont{\sf}}{\def\UrlFont{\small\ttfamily}}}
\makeatother
\urlstyle{leo}

%\usepackage[all,import]{xy}

\renewcommand{\baselinestretch}{1.2}
\date{}

\renewcommand{\thesubsection}{\arabic{subsection}. }
\renewcommand{\thesubsubsection}{\arabic{subsection}.\arabic{subsubsection} }

\theoremstyle{definition}
\newtheorem{prob}{Problem}[section]
%\renewcommand{\theprob}{\arabic{section}.\arabic{prob}}
\renewcommand{\theprob}{\arabic{prob}}

\newenvironment{subprob}%
{\renewcommand{\theenumi}{\alph{enumi}}\renewcommand{\labelenumi}{(\theenumi)}\begin{enumerate}}%
{\end{enumerate}}%


\begin{document}

\pagestyle{empty}
\section*{MAE3134: Homework 1 - Modelling}
\vspace*{-0.4cm}
\noindent{Due date: TBD}%\\%\vspace*{0.5cm}


\begin{prob}
    A block with mass \SI{500}{\gram} oscillates at the end of a linear spring with a spring constant of \SI{7.5}{\newton\per\meter}.
    You can assume this is a top-down view and the block is sliding on a frictionless surface, i.e. gravity is not a factor in this problem.


    \begin{figure}[h]
        \centering
        \begin{scaletikzpicturetowidth}{0.5\textwidth}
            \begin{tikzpicture}[scale=\tikzscale]
                \coordinate[] (origin) at (0, 0);
                \coordinate[] (mass) at (1, 0);
                
                \node[block,minimum width=2cm, minimum height=2cm] (m) at (mass) {$m$};
                \node[ground, rotate=-90, minimum width=2cm] (wall)  at (origin) {};

                \draw (wall.north east) -- (wall.north west);
                
                % create nodes for the spring to attach to 
                \node [virtual, left=of m.180] (sr) {};
                \node [virtual, right=of wall.0] (sl) {};

                \draw[spring] (origin.east) -- node [below] {$k$} (m.west) ;
        \end{tikzpicture}
        \end{scaletikzpicturetowidth}
        \caption{Mechanical System~\label{fig:mechanical_system}}
    \end{figure}

    \begin{subprob}
    \item What is the equation of motion governing the motion of the block?
    \end{subprob}
\end{prob}


\begin{prob}


    Find the equations of motion for the model given in~\cref{fig:mech2}.
    \begin{figure}[htbp]
        \centering

        \begin{tikzpicture}[every node/.style={outer sep=0pt,thick}]

            \node (M) [draw,minimum width=1cm, minimum height=1cm] {$m$};

            \node (ground) [ground,anchor=north,yshift=-0.25cm,minimum width=1.5cm] at (M.south) {};
            \draw (ground.north east) -- (ground.north west);
            \draw [thick] (M.south west) ++ (0.2cm,-0.125cm) circle (0.125cm)  (M.south east) ++ (-0.2cm,-0.125cm) circle (0.125cm);

            \node[ground, rotate=-90, minimum width=2cm] (wall) at (-2, 0) {};
            \draw (wall.north east) -- (wall.north west);

            \node[ground, rotate=90, minimum width=2cm] (rwall) at (2, 0) {};
            \draw (rwall.north east) -- (rwall.north west);

            \draw [spring] (wall.145) -- node [above, yshift=0.5em] {$k_1$} ($(M.north west)!(wall.145)!(M.south west)$);
            \draw [damper] (wall.30) -- node [below, yshift=-0.5em] {$b_1$} ($(M.north west)!(wall.30)!(M.south west)$);

            \draw [spring] (rwall.30) -- node[above, yshift=0.5em] {$k_2$} ($(M.north east)!(rwall.30)!(M.south east)$);
            \draw [damper] (rwall.145) -- node [below, yshift=-0.5em] {$b_2$} ($(M.north east)!(rwall.145)!(M.south east)$);
            % \draw [-latex,ultra thick] (M.east) ++ (0.2cm,0) -- +(1cm,0);

            \draw[thick, dashed] ($(M.north west)$) -- ($(M.north west) + (0,1)$);
            \draw[ultra thick, -latex] ($(M.north west) + (0,0.75)$) -- 
                ($(M.north west) + (1,0.75)$) node[above] {$x$};
        \end{tikzpicture}

        \caption{Mechanical System\label{fig:mech2}}
    \end{figure}
\end{prob}

\clearpage\newpage
\begin{prob}
    George Washington University is attempting to launch its first satellite into orbit, GWSAT.
    In order to control the orientation of the spacecraft, attitude control thrusters are mounted to control the rotational motion about the pitch axis.
    The thrusters are fired in pairs to produce positive and negative torques as required, i.e. B and D and A and C are fired together to produce positive and negative torques, respectively.
    Develop the equations of motion that relates the pitch motion of the spacecraft, \( \theta \), to the thruster force inputs.
    The spacecraft is modeled as a constant density cube with sides of length \( L \) and a total mass of \( m \).
    \begin{figure}[h]
        \centering
        \begin{scaletikzpicturetowidth}{0.5\textwidth}
            \begin{tikzpicture}[scale=\tikzscale]
                \pgfmathsetmacro{\Depth}{5}
                \pgfmathsetmacro{\Width}{5}
                \pgfmathsetmacro{\Height}{5}

                \coordinate (O) at (0,0,0);
                \coordinate (A) at (0,\Width,0);
                \coordinate (B) at (0,\Width,\Height);
                \coordinate (C) at (0,0,\Height);
                \coordinate (D) at (\Depth,0,0);
                \coordinate (E) at (\Depth,\Width,0);
                \coordinate (F) at (\Depth,\Width,\Height);
                \coordinate (G) at (\Depth,0,\Height);
                \coordinate (COM) at ($0.5*(O)+0.5*(D) + 0.5*(A) + 0.5*(O) +0.5*(C) + 0.5*(O) $);
                \coordinate (H) at ($(COM) + 3*(0.1, 0, \Height)$);

                \draw[] (O) -- (C) -- (G) -- (D) -- cycle;% Bottom Face
                \draw[] (O) -- (A) -- (E) -- (D) -- cycle;% Back Face
                \draw[] (O) -- (A) -- (B) -- (C) -- cycle;% Left Face
                \draw[] (D) -- (E) -- (F) -- (G) -- cycle;% Right Face
                \draw[] (C) -- (B) -- (F) -- (G) -- cycle;% Front Face
                \draw[] (A) -- (B) -- (F) -- (E) -- cycle;% Top Face

                \node at (COM) {\textbullet};
                \node [ above] at (COM) {Center of Mass};

                \draw[thick,->] (COM) -- (H) node [below] {Pitch Axis};
                \draw[thick,->] ($0.5*(G) + 0.5*(D) + (1, 0, 0)$) node [right] {Thruster C: $f(t)$} -- ($0.5*(G) + 0.5*(D) $);
                \draw[thick,->] ($0.5*(F) + 0.5*(E) + (1, 0, 0)$) node [right] {Thruster B: $f(t)$} -- ($0.5*(F) + 0.5*(E) $);

                \draw[thick,->] ($0.5*(A) + 0.5*(B) + (-1, 0, 0)$) node [left] {Thruster A: $f(t)$} -- ($0.5*(A) + 0.5*(B) $);
                \draw[thick,->] ($0.5*(C) + 0.5*(O) + (-1, 0, 0)$) node [left] {Thruster D: $f(t)$} -- ($0.5*(C) + 0.5*(O) $);
                %% Following is for debugging purposes so you can see where the points are
                %% These are last so that they show up on top
                % \foreach \xy in {O, A, B, C, D, E, F, G}{
                %     \node at (\xy) {\xy};
                % }
            \end{tikzpicture}
        \end{scaletikzpicturetowidth}
        \caption{GWSAT Model}
    \end{figure}
\end{prob}

\begin{prob}

Problem 2 from previous semester HW1
\begin{tikzpicture}[every node/.style={thick}]

    \node (M) [draw,minimum width=1cm, minimum height=1cm] {$m$};
    \draw [thick] (M.south west) ++ (0.2cm,-0.125cm) circle (0.125cm)  (M.south east) ++ (-0.2cm,-0.125cm) circle (0.125cm);

    \node (ground) [ground,anchor=north,yshift=-0.25cm,minimum width=1.5cm] at (M.south) {};
    \draw (ground.north east) -- (ground.north west);

    \node[ground, rotate=-90, minimum width=2cm] (wall) at (-2, 0) {};
    \draw (wall.north east) -- (wall.north west);

    \node[ground, rotate=90, minimum width=2cm] (rwall) at (2, 0) {};
    \draw (rwall.north east) -- (rwall.north west);

    \draw [spring] (wall.145) -- node [above, yshift=0.5em] {$k_1$} ($(M.north west)!(wall.145)!(M.south west)$);
    \draw [damper] (wall.30) -- node [below, yshift=-0.5em] {$b_1$} ($(M.north west)!(wall.30)!(M.south west)$);

    \draw [spring] (rwall.30) -- node[above, yshift=0.5em] {$k_2$} ($(M.north east)!(rwall.30)!(M.south east)$);
    \draw [damper] (rwall.145) -- node [below, yshift=-0.5em] {$b_2$} ($(M.north east)!(rwall.145)!(M.south east)$);
    % \draw [-latex,ultra thick] (M.east) ++ (0.2cm,0) -- +(1cm,0);

    \draw[thick, dashed] ($(M.north west)$) -- ($(M.north west) + (0,1)$);
    \draw[ultra thick, -latex] ($(M.north west) + (0,0.75)$) -- 
        ($(M.north west) + (1,0.75)$) node[above] {$x$};
\end{tikzpicture}
\end{prob}
\end{document}

